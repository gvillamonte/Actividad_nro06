PW_PAYPAL_MERCHANT_ID = "";
PW_PAYPAL_CLIENT_ID = "";
PW_PAYPAL_SANDBOX_CLIENT_ID = "";
PW_PAYPAL_BTN_TEXT = "Proceed to payment now";
PW_PAYPAL_BTN_IMG = "";
PW_PAYPAL_CURRENCY = "EUR";
PW_PAYPAL_CURRENCY_LIST = "AUD|BRL|CAD|CHF|CZK|DKK|EUR|GBP|HKD|HUF|ILS|JPY|MXN|MYR|NOK|NZD|PHP|PLN|SEK|SGD|THB|TWD|USD";
PW_PAYPAL_TEST_MODE = 0;
PW_PAYPAL_UPLOAD_CI = 1;
PW_PAYPAL_UPLOAD_SHOPCART = 1;
PW_PAYPAL_CHECKOUT = 0;
PW_PAYPAL_USE_SHIPPING = 1;
PW_PAYPAL_BTN_PILL = 0;
PW_PAYPAL_BTN_COLOR = "gold";
PW_PAYPAL_URL_OK = "";
PW_PAYPAL_URL_OK_TEXT = "";
PW_PAYPAL_URL_CANCEL = "";
PW_PAYPAL_URL_CANCEL_TEXT = "";
PW_PAYPAL_IPN_URL = "http:///_iserv/twsc/ppipn.php";
h1zsw='Info';function PW_GetPayPalLang(){var _0xFc0c="FR^fr_FR|EN^en_US|DE^de_DE|ES^es_ES|IT^it_IT|CN^ch_CN|AR^ar_EG|AU^en_AU|BR^pt_BR|IL^he_IL|JP^ja_JP|NL^nl_NL|PT^pt_PT|DA^da_DK|SV^sv_SE|";var _0xDeAa=PW_ReturnValueFromList(PW_LANGUAGECODE,_0xFc0c,'');if(_0xDeAa==''){_0xDeAa=PW_LANGUAGECODE;_0xDeAa=_0xDeAa.toLowerCase()+'_'+_0xDeAa.toUpperCase();}return _0xDeAa;}function PW_GetPayPalCurrency(){return PW_ReturnValueFromList(PW_PAYPAL_CURRENCY,PW_PAYPAL_CURRENCY_LIST,'');}function PW_GetPayPalImageUrl(){var _0x6d05=['btn/btn_paynow_LG','btn/btn_paynowCC_LG','btn/x-click-butcc','logo/PayPal_mark_60x38','bnr/horizontal_solution_PP','btn/x-click-but6','btn/x-click-but03','btn/x-click-but04','btn/x-click-but06','btn/x-click-but20','btn/btn_xpressCheckout'];var _0xfE4db=PW_PAYPAL_BTN_IMG;if(_0xfE4db.length==0||_0xfE4db.length>2||_0xfE4db>_0x6d05.length)return _0xfE4db;var KQ2L6=PW_GetPayPalLang().toLowerCase();if(KQ2L6==''||KQ2L6=='cn')return'';KQ2L6=(KQ2L6=='en')?'en_US':KQ2L6+'_'+KQ2L6.toUpperCase();return('https://www.paypalobjects.com/'+KQ2L6+'/i/'+_0x6d05[_0xfE4db]+'.gif');}function PW_Str2JSon(KVWkL){return KVWkL.replace(/'/g,"\'");}function PW_Encrypt(EYbef){var IwzAy=new JSEncrypt();IwzAy.setPublicKey(PW_PUBLIC_KEY);var $6eE=IwzAy.encrypt(EYbef);return $6eE;}function PW_PayPal($2F55){var K4s5=_0x7bFF();if(!K4s5){$('#'+$2F55).html('PW_ERROR0');return('PW_ERROR0');}if(PW_PAYPAL_CHECKOUT){if($2F55)$('#'+$2F55).html("<div id='paypal-button-container' style='max-width:410px; margin: 0 auto;'></div>");var g5vA=PW_GetOrderLabel();if(g5vA!='')g5vA+=' ';g5vA+=PW_ClearJSstring(_0x5Eb(125-g5vA.length,' '));g5vA=ucXdY(g5vA,K4s5,false);var $de122=$25Bd5();var hSIw=g5vA;var $dDB=g5vA;var LV5e=($58D45)?xnL4M(K4s5[DeD9][$2Ac0F],2):xnL4M(K4s5[DeD9][$2Ac0F]+K4s5[DeD9][msk7],2);var g8D=PW_GetPayPalLang();var _0xc0Ff5=PW_GetPayPalCurrency();var _0x5fF='{}';var $d5a5='{}';var HOBRi='{}';var AJXL=PW_PAYPAL_CLIENT_ID;if(PW_PAYPAL_TEST_MODE&&(PW_PAYPAL_SANDBOX_CLIENT_ID!=""))AJXL=PW_PAYPAL_SANDBOX_CLIENT_ID;if(!PW_PAYPAL_USE_SHIPPING)HOBRi='{"shipping_preference":"NO_SHIPPING"}';if(PW_PAYPAL_UPLOAD_CI){bemail=PW_Str2JSon(fbRz("cbi_email"));if(bemail=="")bemail=PW_Str2JSon(fbRz("csi_email"));blastname=PW_Str2JSon(fbRz("cbi_lastname"));bfirstname=PW_Str2JSon(fbRz("cbi_firstname"));baddress=PW_Str2JSon(fbRz("cbi_address1"));baddress2=PW_Str2JSon(fbRz("cbi_address2"));bcity=PW_Str2JSon(fbRz("cbi_city"));bzip=PW_Str2JSon(fbRz("cbi_zip"));bstate=DEz();bcountrycode=YLQSC();saddress=PW_Str2JSon(fbRz("csi_address1"));saddress2=PW_Str2JSon(fbRz("csi_address2"));scity=PW_Str2JSon(fbRz("csi_city"));qaE=PW_Str2JSon(fbRz("csi_zip"));sstate=DEz();scountrycode=YLQSC();if(baddress=="")baddress=saddress;if(baddress2=="")baddress2=saddress2;if(bcity=="")bcity=scity;if(bzip=="")bzip=qaE;if(bstate=="")bstate=sstate;if(bcountrycode=="")bcountrycode=scountrycode;if(baddress2!=""){baddress='"address_line_1":"'+baddress+'", "address_line_2": "'+baddress2+'"';}else baddress='"address_line_1":"'+baddress+'"';if(bstate!="")bstate='"admin_area_1":"'+bstate+'",';if(saddress2!=""){saddress='"address_line_1":"'+saddress+'", "address_line_2": "'+saddress2+'"';}else saddress='"address_line_1":"'+saddress+'"';if(sstate!="")sstate='"admin_area_1":"'+sstate+'",';_0x5fF='{"email_address":"'+bemail+'","name":{"given_name":"'+blastname+'","surname":"'+bfirstname+'"},"address":{'+baddress+', "admin_area_2":"'+bcity+'",'+bstate+'"postal_code": "'+bzip+'","country_code":"'+bcountrycode+'"}}';if(PW_PAYPAL_USE_SHIPPING)$d5a5='{"address":{'+saddress+', "admin_area_2":"'+scity+'",'+sstate+'"postal_code": "'+qaE+'","country_code":"'+scountrycode+'"}}';}var _0x556b6=document.createElement("script");_0x556b6.setAttribute("async","");_0x556b6.src="./_scripts/security/jsencrypt.min.js";document.head.appendChild(_0x556b6);_0x556b6=document.createElement("script");_0x556b6.src='https://www.paypal.com/sdk/js?client-id='+AJXL+'&currency='+_0xc0Ff5+'&locale='+g8D;if(PW_PAYPAL_TEST_MODE)_0x556b6.src+="&debug=true";_0x556b6.setAttribute("async","");_0x556b6.onload=()=>{if(PW_PAYPAL_TEST_MODE)console.log("PP script loaded");paypal.Buttons({style:{cUu:PW_PAYPAL_BTN_COLOR,shape:(PW_PAYPAL_BTN_PILL?'pill':'rect')},createOrder:function(pdata,actions){return actions.order.create({payer:JSON.parse(_0x5fF),application_context:JSON.parse(HOBRi),purchase_units:[{description:$dDB,custom_id:$de122,amount:{currency_code:_0xc0Ff5,value:LV5e,breakdown:{item_total:{currency_code:_0xc0Ff5,value:LV5e}}},shipping:JSON.parse($d5a5),items:[{name:hSIw,description:$dDB,sku:$de122,unit_amount:{currency_code:_0xc0Ff5,value:LV5e},quantity:'1'}],}]});},onError(err){console.log("ERROR: "+err);if(PW_PAYPAL_URL_CANCEL!=""){window.location.replace(PW_PAYPAL_URL_CANCEL);}else $("#paypal-button-container").html("<p style='background:lightgrey;padding: 10px;border:solid darkgrey 1px'><span style='font-size:120%;font-weight:bold;color:red;text-align:center;'>Error</span></p><br>"+PW_PAYPAL_URL_CANCEL_TEXT);},onCancel(pdata){if(PW_PAYPAL_TEST_MODE)console.log("CANCELED "+JSON.stringify(pdata));},onApprove:function(pdata,actions){return actions.order.capture().then(function(details){if(PW_PAYPAL_TEST_MODE){console.log("pdata="+JSON.stringify(pdata));console.log("details="+JSON.stringify(details));}const $de122=details.purchase_units[0].custom_id;const x=PW_Encrypt("**"+pdata.orderID+" "+$de122+"**");if(PW_PAYPAL_TEST_MODE){console.log("**"+pdata.orderID+" "+$de122+"**");console.log("order="+x);}$.post(PW_PAYPAL_IPN_URL,{order:x},function(response){if(response.trim()=="OK"){console.log(response);if(PW_PAYPAL_URL_OK!=""){window.location.replace(PW_PAYPAL_URL_OK);}else $("#paypal-button-container").html("<br>"+PW_PAYPAL_URL_OK_TEXT);}else $("#paypal-button-container").html("<p style='background:lightgrey;padding: 10px;border:solid darkgrey 1px'><span style='font-size:120%;font-weight:bold;color:red;text-align:center;'>Error "+response+"</span></p><br>"+PW_PAYPAL_URL_CANCEL_TEXT);}).fail(function(response){$("#paypal-button-container").html("<p style='background:lightgrey;padding: 10px;border:solid darkgrey 1px'><span style='font-size:120%;font-weight:bold;color:red;text-align:center;'>Error</span></p> "+JSON.stringify(response).replace(/,/g,"<br>").replace(/"/g," ").replace(/{/g,"").replace(/}/g,"")+PW_PAYPAL_URL_CANCEL_TEXT);});});}}).render('#paypal-button-container');};document.head.appendChild(_0x556b6);return;}var u3Au='';var cV3a8=true;var QWPfR="https://www.paypal.com/cgi-bin/webscr";var B9uIm='post';var _0xA12f='1';if(PW_PAYPAL_TEST_MODE)QWPfR="https://www.sandbox.paypal.com/cgi-bin/webscr";if(cV3a8){u3Au+=('<form id="ppform" name="ppform" action="'+QWPfR+'" method="'+B9uIm+'" target="_top">');u3Au+=('<input type="hidden" name="charset" value="UTF-8" >');}else u3Au+=(QWPfR+'?charset=UTF-8');u3Au+=PW_BuildPostParam(cV3a8,"business",PW_PAYPAL_MERCHANT_ID);u3Au+=PW_BuildPostParam(cV3a8,"invoice",$25Bd5());u3Au+=PW_BuildPostParam(cV3a8,"currency_code",PW_GetPayPalCurrency());var _0x52f3b=PW_GetPayPalLang();if(_0x52f3b!='')u3Au+=PW_BuildPostParam(cV3a8,"lc",_0x52f3b);if(typeof PW_PAYPAL_IPN_URL!=='undefined'&&PW_PAYPAL_IPN_URL!="")u3Au+=PW_BuildPostParam(cV3a8,"notify_url",PW_PAYPAL_IPN_URL);if(PW_PAYPAL_UPLOAD_SHOPCART&&xnL4M(K4s5[g5tgj][YwRs],2)>0)PW_PAYPAL_UPLOAD_SHOPCART=false;if(PW_PAYPAL_UPLOAD_SHOPCART){u3Au+=PW_BuildPostParam(cV3a8,"cmd","_cart");u3Au+=PW_BuildPostParam(cV3a8,"upload",'1');}else u3Au+=PW_BuildPostParam(cV3a8,"cmd","_xclick");if(PW_PAYPAL_UPLOAD_SHOPCART){for(var Jgc=0;Jgc<K4s5[_0x6e9].length;Jgc++){u3Au+=PW_BuildPostParam(cV3a8,"item_number_"+(Jgc+1),PW_ClearJSstring(K4s5[_0x6e9][Jgc][_0x4DD]));u3Au+=PW_BuildPostParam(cV3a8,"item_name_"+(Jgc+1),PW_ClearJSstring(K4s5[_0x6e9][Jgc][_0x5E14]));if(K4s5[_0x6e9][Jgc][aMM]){u3Au+=PW_BuildPostParam(cV3a8,"on0_"+(Jgc+1),h1zsw);u3Au+=PW_BuildPostParam(cV3a8,"os0_"+(Jgc+1),_0xdCf(PW_ClearJSstring(K4s5[_0x6e9][Jgc][aMM])));}var pVr=xnL4M((K4s5[_0x6e9][Jgc][_0xbf5Cb]+K4s5[_0x6e9][Jgc][Pfv])/K4s5[_0x6e9][Jgc][_0x5b56],2);u3Au+=PW_BuildPostParam(cV3a8,"amount_"+(Jgc+1),pVr);u3Au+=PW_BuildPostParam(cV3a8,"quantity_"+(Jgc+1),K4s5[_0x6e9][Jgc][_0x5b56]);}if(K4s5[DeD9][msk7]>0&&!$58D45)u3Au+=PW_BuildPostParam(cV3a8,"tax_cart",xnL4M(K4s5[DeD9][msk7],2));var _0xb254D=K4s5[UCEBl][$aa8Ad]+K4s5[fKxy][$90f];if(_0xb254D>0)u3Au+=PW_BuildPostParam(cV3a8,"shipping_1",xnL4M(_0xb254D,2));}else {var JVvq=($58D45)?xnL4M(K4s5[DeD9][$2Ac0F],2):xnL4M(K4s5[DeD9][$2Ac0F]+K4s5[DeD9][msk7],2);u3Au+=PW_BuildPostParam(cV3a8,"amount",JVvq);var g5vA=PW_GetOrderLabel();if(g5vA!='')g5vA+=' ';g5vA+=PW_ClearJSstring(_0x5Eb(125-g5vA.length,' '));g5vA=ucXdY(g5vA,K4s5,false);u3Au+=PW_BuildPostParam(cV3a8,'item_name',g5vA);}if(PW_PAYPAL_UPLOAD_CI){u3Au+=('<input type="hidden" name="address_override" value="1">');u3Au+=PW_BuildPostParam(cV3a8,"first_name",fbRz("csi_firstname"));u3Au+=PW_BuildPostParam(cV3a8,"last_name",fbRz("csi_lastname"));u3Au+=PW_BuildPostParam(cV3a8,"address1",fbRz("csi_address1"));u3Au+=PW_BuildPostParam(cV3a8,"address2",fbRz("csi_address2"));u3Au+=PW_BuildPostParam(cV3a8,"city",fbRz("csi_city"));if($a2E){var $aBa6=DEz();var $df1e2=YLQSC();var LwAX=ZOr2($df1e2+$aBa6);if($df1e2!='US')$aBa6=PW_RemoveAccents(LwAX[f87l]);u3Au+=PW_BuildPostParam(cV3a8,"state",$aBa6);u3Au+=PW_BuildPostParam(cV3a8,"zip",fbRz("csi_zip"));u3Au+=PW_BuildPostParam(cV3a8,"country",$df1e2);}else{u3Au+=PW_BuildPostParam(cV3a8,"country",_0xA9aB);}u3Au+=PW_BuildPostParam(cV3a8,"email",fbRz("csi_email"));var $dA5d8=fbRz("csi_phone");if($df1e2=='US'){u3Au+=PW_BuildPostParam(cV3a8,"night_phone_a",$dA5d8.substr(0,3));u3Au+=PW_BuildPostParam(cV3a8,"night_phone_b",$dA5d8.substr(3,3));u3Au+=PW_BuildPostParam(cV3a8,"night_phone_c",$dA5d8.substr(6,4));}else if($dA5d8!='')u3Au+=PW_BuildPostParam(cV3a8,"night_phone_a",$dA5d8);}if(PW_PAYPAL_URL_OK!=''){u3Au+=PW_BuildPostParam(cV3a8,"return",PW_PAYPAL_URL_OK);u3Au+=PW_BuildPostParam(cV3a8,"rm",'2');if(PW_PAYPAL_URL_OK_TEXT!='')u3Au+=PW_BuildPostParam(cV3a8,"cbt",PW_PAYPAL_URL_OK_TEXT);}if(PW_PAYPAL_URL_CANCEL!='')u3Au+=PW_BuildPostParam(cV3a8,"cancel_return",PW_PAYPAL_URL_CANCEL);u3Au+=PW_BuildPostParam(cV3a8,"no_shipping",_0xA12f);var AvRpf=PW_GetPayPalImageUrl();if(cV3a8){if(AvRpf==''){u3Au+=('<input class="btn btn-primary" type="submit" class="tw-formfield" value="'+PW_ClearJSstring(PW_PAYPAL_BTN_TEXT)+'">');}else u3Au+=('<input type="image" src="'+AvRpf+'" alt="'+PW_ClearJSstring(PW_PAYPAL_BTN_TEXT)+'" title="'+PW_ClearJSstring(PW_PAYPAL_BTN_TEXT)+'" onclick="document.ppform.submit();" >');u3Au+=('</form>');}else{if(AvRpf=='')u3Au=('<input class="btn btn-primary" type="button" class="tw-formfield" value="'+PW_ClearJSstring(PW_PAYPAL_BTN_TEXT)+'" onclick="document.location.href=\''+u3Au+'\'" >');else u3Au=('<a href="'+u3Au+'">'+'<img border="0" src="'+AvRpf+'" alt="'+PW_ClearJSstring(PW_PAYPAL_BTN_TEXT)+'" title="'+PW_ClearJSstring(PW_PAYPAL_BTN_TEXT)+'" ></a>');}if($2F55)$('#'+$2F55).html(u3Au);return u3Au;}
